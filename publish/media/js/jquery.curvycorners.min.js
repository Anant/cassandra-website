(function(a){a.fn.corner=function(n){function i(A,x,u){var r=parseInt(A.substr(1,2),16);var y=parseInt(A.substr(3,2),16);var t=parseInt(A.substr(5,2),16);var q=parseInt(x.substr(1,2),16);var w=parseInt(x.substr(3,2),16);var s=parseInt(x.substr(5,2),16);if(u>1||u<0){u=1}var v=Math.round((r*u)+(q*(1-u)));if(v>255){v=255}if(v<0){v=0}var p=Math.round((y*u)+(w*(1-u)));if(p>255){p=255}if(p<0){p=0}var o=Math.round((t*u)+(s*(1-u)));if(o>255){o=255}if(o<0){o=0}return"#"+e(v)+e(p)+e(o)}function e(o){base=o/16;rem=o%16;base=base-(rem/16);baseS=f(base);remS=f(rem);return baseS+""+remS}function f(o){if((o>=0)&&(o<=9)){return o}else{switch(o){case 10:return"A";case 11:return"B";case 12:return"C";case 13:return"D";case 14:return"E";case 15:return"F"}return"F"}}function l(w,v,o){var q=0;var p=new Array(1);var u=new Array(1);var A=0;var s="";var t=Math.sqrt((Math.pow(o,2)-Math.pow(w,2)));if((t>=v)&&(t<(v+1))){s="Left";p[A]=0;u[A]=t-v;A=A+1}var t=Math.sqrt((Math.pow(o,2)-Math.pow(v+1,2)));if((t>=w)&&(t<(w+1))){s=s+"Top";p[A]=t-w;u[A]=1;A=A+1}var t=Math.sqrt((Math.pow(o,2)-Math.pow(w+1,2)));if((t>=v)&&(t<(v+1))){s=s+"Right";p[A]=1;u[A]=t-v;A=A+1}var t=Math.sqrt((Math.pow(o,2)-Math.pow(v,2)));if((t>=w)&&(t<(w+1))){s=s+"Bottom";p[A]=t-w;u[A]=0}switch(s){case"LeftRight":q=Math.min(u[0],u[1])+((Math.max(u[0],u[1])-Math.min(u[0],u[1]))/2);break;case"TopRight":q=1-(((1-p[0])*(1-u[1]))/2);break;case"TopBottom":q=Math.min(p[0],p[1])+((Math.max(p[0],p[1])-Math.min(p[0],p[1]))/2);break;case"LeftBottom":q=(u[0]*p[1])/2;break;default:q=1}return q}function c(p){try{var q=j(p);var u=parseInt(q[0]);var s=parseInt(q[1]);var o=parseInt(q[2]);var r="#"+e(u)+e(s)+e(o)}catch(t){alert("There was an error converting the RGB value to Hexadecimal in function rgb2Hex")}return r}function j(o){var q=o.substring(4,o.indexOf(")"));var p=q.split(", ");return p}function b(p){var o="transparent";if(p!=""&&p!="transparent"){if(p.substr(0,3)=="rgb"&&p.substr(0,4)!="rgba"){o=c(p)}else{if(p.length==4){o="#"+p.substring(1,2)+p.substring(1,2)+p.substring(2,3)+p.substring(2,3)+p.substring(3,4)+p.substring(3,4)}else{o=p}}}return o}function h(o){return parseInt(((o!="auto"&&o.indexOf("%")==-1&&o!=""&&o.indexOf("px")!==-1)?o.slice(0,o.indexOf("px")):0))}function m(v,F,B,p,x,C,E,s,y,w,D,o,u,r){var A=a(v);var q=document.createElement("div");a(q).css({height:C,width:"1px",position:"absolute","font-size":"1px",overflow:"hidden"});var t=Math.max(r.tl?r.tl.radius:0,r.tr?r.tr.radius:0);if(s==-1&&y!=""){if(t>0){a(q).css("background-position","-"+((u-w-o)+F)+"px -"+((A.height()+t-o)-B)+"px")}else{a(q).css("background-position","-"+((u-w-o)+F)+"px -"+((A.height())-B)+"px")}a(q).css({"background-image":y,"background-repeat":A.css("background-repeat"),"background-color":p})}else{if(!D){a(q).css("background-color",p).addClass("hasBackgroundColor")}else{a(q).css("background-color",p)}}if(x!=100){d(q,x)}a(q).css({top:B+"px",left:F+"px"});return q}function d(t,q){q=(q==100)?99.999:q;if(a.browser.safari&&t.tagName!="IFRAME"){var p=j(t.style.backgroundColor);var s=parseInt(p[0]);var r=parseInt(p[1]);var o=parseInt(p[2]);t.style.backgroundColor="rgba("+s+", "+r+", "+o+", "+q/100+")"}else{if(typeof(t.style.opacity)!="undefined"){t.style.opacity=q/100}else{if(typeof(t.style.MozOpacity)!="undefined"){t.style.MozOpacity=q/100}else{if(typeof(t.style.filter)!="undefined"){t.style.filter="alpha(opacity:"+q+")"}else{if(typeof(t.style.KHTMLOpacity)!="undefined"){t.style.KHTMLOpacity=q/100}}}}}}function k(C,aj){var ag=a(C);var V=ag.css("backgroundImage");var L=null;var ae=null;var G=new Array();var ac=null;var M=h(ag.css("height"))?h(ag.css("height")):C.scrollHeight;var Z=h(ag.css("width"))?h(ag.css("width")):C.scrollWidth;var v=h(ag.css("borderTopWidth"))?h(ag.css("borderTopWidth")):0;var A=h(ag.css("paddingTop"));var R=h(ag.css("paddingBottom"));var N=h(ag.css("paddingLeft"));var u=h(ag.css("paddingRight"));var s=b(ag.css("backgroundColor"));var K=(V!="none"&&V!="initial")?V:"";var r=b(ag.css("borderTopColor"));var U=v+"px solid "+r;var D=Math.max(aj.tl?aj.tl.radius:0,aj.tr?aj.tr.radius:0);var O=Math.max(aj.bl?aj.bl.radius:0,aj.br?aj.br.radius:0);ag.addClass("hasCorners").css({padding:"0",borderColor:C.style.borderColour,overflow:"visible"});if(C.style.position!="absolute"){ag.css("position","relative")}if((a.browser.msie)){if(a.browser.version==6&&C.style.width=="auto"&&C.style.height=="auto"){ag.css("width","100%")}ag.css("zoom","1");a("*",ag).css("zoom","normal")}for(var aa=0;aa<2;aa++){switch(aa){case 0:if(aj.tl||aj.tr){var H=document.createElement("div");L=C.appendChild(H);a(L).css({width:"100%","font-size":"1px",overflow:"hidden",position:"absolute","padding-left":v,"padding-right":v,height:D+"px",top:0-D+"px",left:0-v+"px"}).addClass("topContainer")}break;case 1:if(aj.bl||aj.br){var H=document.createElement("div");ae=C.appendChild(H);a(ae).css({width:"100%","font-size":"1px",overflow:"hidden",position:"absolute","padding-left":v,"padding-right":v,height:O,bottom:0-O+"px",left:0-v+"px"}).addClass("bottomContainer")}break}}if(aj.autoPad==true){var x=document.createElement("div");var S=document.createElement("div");var q=document.createElement("div");a(S).css({margin:"0","padding-bottom":R,"padding-top":A,"padding-left":N,"padding-right":u,overflow:"visible"}).addClass("hasBackgroundColor content_container");a(x).css({position:"relative","float":"left",width:"100%","margin-top":"-"+Math.abs(D-v)+"px","margin-bottom":"-"+Math.abs(O-v)+"px"}).addClass="autoPadDiv";a(q).css("clear","both");S.appendChild(x);S.appendChild(q);ag.wrapInner(S)}if(L){ag.css("border-top",0)}if(ae){ag.css("border-bottom",0)}var P=["tr","tl","br","bl"];for(var ai in P){if(ai>-1<4){var Y=P[ai];if(!aj[Y]){if(((Y=="tr"||Y=="tl")&&L!=null)||((Y=="br"||Y=="bl")&&ae!=null)){var B=document.createElement("div");a(B).css({position:"relative","font-size":"1px",overflow:"hidden"});if(K==""){a(B).css("background-color",s)}else{a(B).css("background-image",K).css("background-color",s)}switch(Y){case"tl":a(B).css({height:D-v,"margin-right":aj.tr.radius-(v*2),"border-left":U,"border-top":U,left:-v+"px","background-repeat":ag.css("background-repeat"),"background-position":v+"px 0px"});break;case"tr":a(B).css({height:D-v,"margin-left":aj.tl.radius-(v*2),"border-right":U,"border-top":U,left:v+"px","background-repeat":ag.css("background-repeat"),"background-position":"-"+(D+v)+"px 0px"});break;case"bl":if(D>0){a(B).css({height:O-v,"margin-right":aj.br.radius-(v*2),"border-left":U,"border-bottom":U,left:-v+"px","background-repeat":ag.css("background-repeat"),"background-position":"0px -"+(ag.height()+D-v+1)+"px"})}else{a(B).css({height:O-v,"margin-right":aj.br.radius-(v*2),"border-left":U,"border-bottom":U,left:-v+"px","background-repeat":ag.css("background-repeat"),"background-position":"0px -"+(ag.height())+"px"})}break;case"br":if(D>0){a(B).css({height:O-v,"margin-left":aj.bl.radius-(v*2),"border-right":U,"border-bottom":U,left:v+"px","background-repeat":ag.css("background-repeat"),"background-position":"-"+aj.bl.radius+v+"px -"+(ag.height()+D-v+1)+"px"})}else{a(B).css({height:O-v,"margin-left":aj.bl.radius-(v*2),"border-right":U,"border-bottom":U,left:v+"px","background-repeat":ag.css("background-repeat"),"background-position":"-"+aj.bl.radius+v+"px -"+(ag.height())+"px"})}break}}}else{if(G[aj[Y].radius]){var B=G[aj[Y].radius].cloneNode(true)}else{var B=document.createElement("DIV");a(B).css({height:aj[Y].radius,width:aj[Y].radius,position:"absolute","font-size":"1px",overflow:"hidden"});var p=parseInt(aj[Y].radius-v);for(var J=0,ah=aj[Y].radius;J<ah;J++){if((J+1)>=p){var an=-1}else{var an=(Math.floor(Math.sqrt(Math.pow(p,2)-Math.pow((J+1),2)))-1)}if(p!=ah){if((J)>=p){var am=-1}else{var am=Math.ceil(Math.sqrt(Math.pow(p,2)-Math.pow(J,2)))}if((J+1)>=ah){var al=-1}else{var al=(Math.floor(Math.sqrt(Math.pow(ah,2)-Math.pow((J+1),2)))-1)}}if((J)>=ah){var ak=-1}else{var ak=Math.ceil(Math.sqrt(Math.pow(ah,2)-Math.pow(J,2)))}if(an>-1){B.appendChild(m(C,J,0,s,100,(an+1),B,-1,K,aj[Y].radius,0,v,Z,aj))}if(p!=ah){for(var I=(an+1);I<am;I++){if(aj.antiAlias){if(K!=""){var F=(l(J,I,p)*100);if(F<30){B.appendChild(m(C,J,I,r,100,1,B,0,K,aj[Y].radius,1,v,Z,aj))}else{B.appendChild(m(C,J,I,r,100,1,B,-1,K,aj[Y].radius,1,v,Z,aj))}}else{var ad=i(s,r,l(J,I,p));B.appendChild(m(C,J,I,ad,100,1,B,0,K,aj[Y].radius,Y,1,v,Z,aj))}}}if(aj.antiAlias){if(al>=am){if(am==-1){am=0}B.appendChild(m(C,J,am,r,100,(al-am+1),B,0,K,0,1,v,Z,aj))}}else{if(al>=an){B.appendChild(m(C,J,(an+1),r,100,(al-an),B,0,K,0,1,v,Z,aj))}}var T=r}else{var T=s;var al=an}if(aj.antiAlias){for(var I=(al+1);I<ak;I++){B.appendChild(m(C,J,I,T,(l(J,I,ah)*100),1,B,((v>0)?0:-1),K,aj[Y].radius,1,v,Z,aj))}}}G[aj[Y].radius]=B.cloneNode(true)}if(Y!="br"){for(var aa=0,af=B.childNodes.length;aa<af;aa++){var y=B.childNodes[aa];var E=h(a(y).css("top"));var X=h(a(y).css("left"));var o=h(a(y).css("height"));if(Y=="tl"||Y=="bl"){a(y).css("left",aj[Y].radius-X-1+"px")}if(Y=="tr"||Y=="tl"){a(y).css("top",aj[Y].radius-o-E+"px")}switch(Y){case"tr":a(y).css("background-position","-"+Math.abs((Z-aj[Y].radius+v)+X)+"px -"+Math.abs(aj[Y].radius-o-E-v)+"px");break;case"tl":a(y).css("background-position","-"+Math.abs((aj[Y].radius-X-1)-v)+"px -"+Math.abs(aj[Y].radius-o-E-v)+"px");break;case"bl":if(D>0){a(y).css("background-position","-"+Math.abs((aj[Y].radius-X-1)-v)+"px -"+Math.abs((ag.height()+D-v+1))+"px")}else{a(y).css("background-position","-"+Math.abs((aj[Y].radius-X-1)-v)+"px -"+Math.abs((ag.height()))+"px")}break}}}}if(B){switch(Y){case"tl":if(a(B).css("position")=="absolute"){a(B).css("top","0")}if(a(B).css("position")=="absolute"){a(B).css("left","0")}if(L){L.appendChild(B)}break;case"tr":if(a(B).css("position")=="absolute"){a(B).css("top","0")}if(a(B).css("position")=="absolute"){a(B).css("right","0")}if(L){L.appendChild(B)}break;case"bl":if(a(B).css("position")=="absolute"){a(B).css("bottom","0")}if(B.style.position=="absolute"){a(B).css("left","0")}if(ae){ae.appendChild(B)}break;case"br":if(a(B).css("position")=="absolute"){a(B).css("bottom","0")}if(a(B).css("position")=="absolute"){a(B).css("right","0")}if(ae){ae.appendChild(B)}break}}}}var Q=new Array();Q.t=Math.abs(aj.tl.radius-aj.tr.radius);Q.b=Math.abs(aj.bl.radius-aj.br.radius);for(z in Q){if(z=="t"||z=="b"){if(Q[z]){var W=((aj[z+"l"].radius<aj[z+"r"].radius)?z+"l":z+"r");var w=document.createElement("div");a(w).css({height:Q[z],width:aj[W].radius+"px",position:"absolute","font-size":"1px",overflow:"hidden","background-color":s,"background-image":K});switch(W){case"tl":a(w).css({bottom:"0",left:"0","border-left":U,"background-position":"0px -"+(aj[W].radius-v)});L.appendChild(w);break;case"tr":a(w).css({bottom:"0",right:"0","border-right":U,"background-position":"0px -"+(aj[W].radius-v)+"px"});L.appendChild(w);break;case"bl":a(w).css({top:"0",left:"0","border-left":U,"background-position":"0px -"+(ag.height()+aj[W].radius-v)});ae.appendChild(w);break;case"br":a(w).css({top:"0",right:"0","border-right":U,"background-position":"0px -"+(ag.height()+aj[W].radius-v)});ae.appendChild(w);break}}var ab=document.createElement("div");a(ab).css({position:"relative","font-size":"1px",overflow:"hidden","background-color":s,"background-image":K,"background-repeat":ag.css("background-repeat")});switch(z){case"t":if(L){if(aj.tl.radius&&aj.tr.radius){a(ab).css({height:D-v+"px","margin-left":aj.tl.radius-v+"px","margin-right":aj.tr.radius-v+"px","border-top":U}).addClass("hasBackgroundColor");if(K!=""){a(ab).css("background-position","-"+(D+v)+"px 0px")}L.appendChild(ab)}ag.css("background-position","0px -"+(D-v+1)+"px")}break;case"b":if(ae){if(aj.bl.radius&&aj.br.radius){a(ab).css({height:O-v+"px","margin-left":aj.bl.radius-v+"px","margin-right":aj.br.radius-v+"px","border-bottom":U});if(K!=""&&D>0){a(ab).css("background-position","-"+(aj.bl.radius-v)+"px -"+(ag.height()+D-v+1)+"px")}else{a(ab).css("background-position","-"+(aj.bl.radius-v)+"px -"+(ag.height())+"px").addClass("hasBackgroundColor")}ae.appendChild(ab)}}break}}}ag.prepend(L);ag.prepend(ae)}var g={tl:{radius:8},tr:{radius:8},bl:{radius:8},br:{radius:8},antiAlias:true,autoPad:true,validTags:["div"]};if(n&&typeof(n)!="string"){a.extend(g,n)}return this.each(function(){if(!a(this).is(".hasCorners")){k(this,g)}})}})(jQuery);